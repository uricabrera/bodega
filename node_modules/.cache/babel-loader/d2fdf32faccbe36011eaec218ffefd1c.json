{"ast":null,"code":"var _jsxFileName = \"/home/flavia/Documentos/Programacion/Florencia/bodega/src/components/CartCheckout.jsx\",\n    _s = $RefreshSig$();\n\nimport CartCheckoutTable from \"./CartCheckoutTable\";\nimport { CartContext } from \"../contexts/CartContext\";\nimport { useContext } from \"react\";\nimport axios from \"axios\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CartCheckout = () => {\n  _s();\n\n  const {\n    cart,\n    clearCart\n  } = useContext(CartContext);\n  const {\n    user\n  } = useContext(UserContext);\n  let history = useHistory();\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"cart\", JSON.stringify(cart));\n    console.log(\"Console log de carrito: \", cart);\n    formData.append(\"idCuenta\", user[\"idCuenta\"]);\n    formData.append(\"descuento\", user[\"descuento\"]);\n    formData.append(\"nombreFarmacia\", user[\"datos\"][\"nombreFarmacia\"]);\n    console.log(\"Console log de formData: \", formData);\n    clearCart();\n    axios.post(\"../php/checkout.php\", formData).then(res => {\n      toast.success(\"Éxito con el envío del pedido!\");\n      console.log(res);\n      history.push(\"/dashboard/store\");\n    }).catch(err => {\n      toast.error(\"Error!\");\n      console.log(err);\n      history.push(\"/dashboard/store\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cartcheckout\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"cartcheckout__title\",\n      children: \"Su Pedido\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CartCheckoutTable, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"cartcheckout__submit\",\n      value: \"Enviar Pedido\",\n      type: \"submit\",\n      onClick: onSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CartCheckout, \"XwDSVL6lLuusQgf2hDQZLvZI+5E=\", false, function () {\n  return [useHistory];\n});\n\n_c = CartCheckout;\nexport default CartCheckout;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartCheckout\");","map":{"version":3,"sources":["/home/flavia/Documentos/Programacion/Florencia/bodega/src/components/CartCheckout.jsx"],"names":["CartCheckoutTable","CartContext","useContext","axios","UserContext","toast","useHistory","CartCheckout","cart","clearCart","user","history","onSubmit","e","preventDefault","formData","FormData","append","JSON","stringify","console","log","post","then","res","success","push","catch","err","error"],"mappings":";;;AACA,OAAOA,iBAAP,MAA8B,qBAA9B;AACA,SAAQC,WAAR,QAA0B,yBAA1B;AACA,SAAQC,UAAR,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,yBAA1B;AACA,SAAQC,KAAR,QAAoB,gBAApB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;;AAEA,MAAMC,YAAY,GAAG,MAAM;AAAA;;AAEvB,QAAM;AAACC,IAAAA,IAAD;AAAMC,IAAAA;AAAN,MAAmBP,UAAU,CAACD,WAAD,CAAnC;AACA,QAAM;AAACS,IAAAA;AAAD,MAASR,UAAU,CAACE,WAAD,CAAzB;AAEA,MAAIO,OAAO,GAAGL,UAAU,EAAxB;;AAEA,QAAMM,QAAQ,GAAIC,CAAD,IAAO;AACpBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAuBC,IAAI,CAACC,SAAL,CAAeX,IAAf,CAAvB;AACAY,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCb,IAAxC;AACAO,IAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA2BP,IAAI,CAAC,UAAD,CAA/B;AACAK,IAAAA,QAAQ,CAACE,MAAT,CAAgB,WAAhB,EAA4BP,IAAI,CAAC,WAAD,CAAhC;AACAK,IAAAA,QAAQ,CAACE,MAAT,CAAgB,gBAAhB,EAAkCP,IAAI,CAAC,OAAD,CAAJ,CAAc,gBAAd,CAAlC;AACAU,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAwCN,QAAxC;AACAN,IAAAA,SAAS;AACTN,IAAAA,KAAK,CACAmB,IADL,CACU,qBADV,EACgCP,QADhC,EAEKQ,IAFL,CAEWC,GAAD,IAAS;AACXnB,MAAAA,KAAK,CAACoB,OAAN,CAAc,gCAAd;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACAb,MAAAA,OAAO,CAACe,IAAR,CAAa,kBAAb;AACH,KANL,EAOKC,KAPL,CAOYC,GAAD,IAAS;AACZvB,MAAAA,KAAK,CAACwB,KAAN,CAAY,QAAZ;AACAT,MAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACAjB,MAAAA,OAAO,CAACe,IAAR,CAAa,kBAAb;AACH,KAXL;AAYH,GAtBD;;AAwBA,sBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,4BACI;AAAI,MAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI;AAAO,MAAA,SAAS,EAAC,sBAAjB;AAAyC,MAAA,KAAK,EAAE,eAAhD;AAAiE,MAAA,IAAI,EAAC,QAAtE;AAA+E,MAAA,OAAO,EAAEd;AAAxF;AAAA;AAAA;AAAA;AAAA,YAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAOH,CAtCD;;GAAML,Y;UAKYD,U;;;KALZC,Y;AAyCN,eAAeA,YAAf","sourcesContent":["\nimport CartCheckoutTable from \"./CartCheckoutTable\";\nimport {CartContext} from \"../contexts/CartContext\";\nimport {useContext} from \"react\";\nimport axios from \"axios\";\nimport {UserContext} from \"../contexts/UserContext\";\nimport {toast} from \"react-toastify\";\nimport {useHistory} from \"react-router-dom\";\n\nconst CartCheckout = () => {\n\n    const {cart,clearCart} = useContext(CartContext);\n    const {user} = useContext(UserContext);\n\n    let history = useHistory();\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n        const formData = new FormData();\n        formData.append(\"cart\",JSON.stringify(cart));\n        console.log(\"Console log de carrito: \", cart);\n        formData.append(\"idCuenta\",user[\"idCuenta\"]);\n        formData.append(\"descuento\",user[\"descuento\"]);\n        formData.append(\"nombreFarmacia\", user[\"datos\"][\"nombreFarmacia\"]);\n        console.log(\"Console log de formData: \",formData);\n        clearCart();\n        axios\n            .post(\"../php/checkout.php\",formData)\n            .then((res) => {\n                toast.success(\"Éxito con el envío del pedido!\");\n                console.log(res);\n                history.push(\"/dashboard/store\");\n            })\n            .catch((err) => {\n                toast.error(\"Error!\");\n                console.log(err);\n                history.push(\"/dashboard/store\");\n            })\n    }\n\n    return(\n        <div className=\"cartcheckout\">\n            <h1 className=\"cartcheckout__title\">Su Pedido</h1>\n            <CartCheckoutTable/>\n            <input className=\"cartcheckout__submit\"  value={\"Enviar Pedido\"} type=\"submit\" onClick={onSubmit}/>\n        </div>\n    )\n}\n\n\nexport default CartCheckout;"]},"metadata":{},"sourceType":"module"}