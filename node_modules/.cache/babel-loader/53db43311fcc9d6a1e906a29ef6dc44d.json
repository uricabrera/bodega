{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Urielitou\\\\WebstormProjects\\\\bodega\\\\src\\\\components\\\\ClientCode.jsx\",\n    _s = $RefreshSig$();\n\nimport Logo from \"./../media/logo.jpg\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport { BiKey, BiUser } from \"react-icons/bi\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ClientCode = () => {\n  _s();\n\n  let history = useHistory();\n  const {\n    user,\n    setUser\n  } = useContext(UserContext);\n  const passwordRef = useRef(null);\n  const nombreFarmaciaRef = useRef(null);\n  const [inputs, setInputs] = useState({\n    password: \"\",\n    nombreFarmacia: \"\"\n  });\n\n  const onChange = e => {\n    if (e.target.name === \"password\" && !(e.target.value.length === 0)) {\n      passwordRef.current.classList.add(\"register_form_placeholder_active_password\");\n    }\n\n    if (e.target.name === \"password\" && e.target.value.length === 0) {\n      passwordRef.current.classList.remove(\"register_form_placeholder_active_password\");\n    }\n\n    if (e.target.name === \"nombreFarmacia\" && !(e.target.value.length === 0)) {\n      nombreFarmaciaRef.current.classList.add(\"register_form_placeholder_active_nombrefarmacia\");\n    }\n\n    if (e.target.name === \"nombreFarmacia\" && e.target.value.length === 0) {\n      nombreFarmaciaRef.current.classList.remove(\"register_form_placeholder_active_nombrefarmacia\");\n    }\n\n    setInputs({ ...inputs,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"idCliente\", inputs[\"password\"]);\n    formData.append(\"nombreFarmacia\", inputs[\"nombreFarmacia\"]);\n    axios.post(\"php/verificar_codigocliente.php\", formData).then(res => {\n      console.log(\"Success! ClientCode: \", res);\n\n      if (res.data[\"exists\"] === \"1\") {\n        toast.success(\"Éxito!\");\n        setUser({ ...user,\n          idCuenta: inputs[\"password\"]\n        });\n        history.push(\"/register\");\n      } else {\n        toast.error(\"No se encontró usuario, contacte el servicio de administración\");\n        history.push(\"/\");\n      }\n    }).catch(err => {\n      console.log(\"Error!\", err);\n    });\n  };\n\n  const onClick = () => {\n    history.push(\"/\");\n  };\n\n  const onClickNoCode = () => {\n    history.push(\"/register\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"register\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: Logo,\n      className: \"register_image\",\n      alt: \"Drogueria Del Sol\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"register_title\",\n      children: \"Incluye el c\\xF3digo de cliente provisto por la empresa\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"register_form\",\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"register_form_placeholder register_form_placeholder_password\",\n        ref: passwordRef,\n        children: [/*#__PURE__*/_jsxDEV(BiKey, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"C\\xF3digo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"register_form_input\",\n        name: \"password\",\n        id: \"password\",\n        onChange: e => onChange(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"register_form_placeholder\",\n        ref: nombreFarmaciaRef,\n        children: [/*#__PURE__*/_jsxDEV(BiUser, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"nombreFarmacia\",\n          children: \"Nombre Farmacia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"register_form_input\",\n        name: \"nombreFarmacia\",\n        id: \"nombreFarmacia\",\n        onChange: e => onChange(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Verificar C\\xF3digo\",\n        className: \"register_form_submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      value: \"Registrar sin c\\xF3digo\",\n      className: \"register_form_submit\",\n      onClick: onClickNoCode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      value: \"Volver a inicio\",\n      className: \"register_form_submit\",\n      onClick: onClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ClientCode, \"CbQ3uQ8htWo4JOVVw9EF5sad+CE=\", false, function () {\n  return [useHistory];\n});\n\n_c = ClientCode;\nexport default ClientCode;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClientCode\");","map":{"version":3,"sources":["C:/Users/Urielitou/WebstormProjects/bodega/src/components/ClientCode.jsx"],"names":["Logo","useHistory","useParams","useContext","useEffect","useRef","useState","axios","UserContext","BiKey","BiUser","toast","ClientCode","history","user","setUser","passwordRef","nombreFarmaciaRef","inputs","setInputs","password","nombreFarmacia","onChange","e","target","name","value","length","current","classList","add","remove","onSubmit","preventDefault","formData","FormData","append","post","then","res","console","log","data","success","idCuenta","push","error","catch","err","onClick","onClickNoCode"],"mappings":"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","sourcesContent":["import Logo from \"./../media/logo.jpg\";\r\nimport {useHistory,useParams} from \"react-router-dom\";\r\nimport {useContext, useEffect, useRef, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport {UserContext} from \"../contexts/UserContext\";\r\nimport {BiKey,BiUser} from \"react-icons/bi\";\r\nimport {toast} from \"react-toastify\";\r\n\r\n\r\nconst ClientCode = () => {\r\n    let history = useHistory();\r\n\r\n\r\n    const {user,setUser} = useContext(UserContext);\r\n\r\n\r\n\r\n    const passwordRef = useRef(null);\r\n    const nombreFarmaciaRef = useRef(null);\r\n\r\n\r\n    const [inputs,setInputs] = useState({\r\n        password: \"\",\r\n        nombreFarmacia: \"\"\r\n    })\r\n\r\n    const onChange = (e) => {\r\n\r\n\r\n        if(e.target.name === \"password\" && !(e.target.value.length === 0)){\r\n            passwordRef.current.classList.add(\"register_form_placeholder_active_password\");\r\n        }\r\n\r\n        if(e.target.name === \"password\" && e.target.value.length === 0){\r\n            passwordRef.current.classList.remove(\"register_form_placeholder_active_password\");\r\n        }\r\n\r\n        if(e.target.name === \"nombreFarmacia\" && !(e.target.value.length === 0)){\r\n            nombreFarmaciaRef.current.classList.add(\"register_form_placeholder_active_nombrefarmacia\");\r\n        }\r\n\r\n        if(e.target.name === \"nombreFarmacia\" && e.target.value.length === 0){\r\n            nombreFarmaciaRef.current.classList.remove(\"register_form_placeholder_active_nombrefarmacia\");\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        setInputs({\r\n            ...inputs,\r\n            [e.target.name]: e.target.value\r\n        })\r\n\r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append(\"idCliente\",inputs[\"password\"]);\r\n        formData.append(\"nombreFarmacia\", inputs[\"nombreFarmacia\"]);\r\n        axios\r\n            .post(\"php/verificar_codigocliente.php\",formData)\r\n            .then((res) => {\r\n                console.log(\"Success! ClientCode: \",res);\r\n                if(res.data[\"exists\"] === \"1\"){\r\n                    toast.success(\"Éxito!\");\r\n                    setUser({\r\n                        ...user,\r\n                        idCuenta: inputs[\"password\"]\r\n                    })\r\n                    history.push(\"/register\");\r\n                }else{\r\n                    toast.error(\"No se encontró usuario, contacte el servicio de administración\");\r\n                    history.push(\"/\");\r\n                }\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"Error!\",err);\r\n            })\r\n    }\r\n\r\n\r\n    const onClick = () => {\r\n        history.push(\"/\");\r\n    }\r\n\r\n    const onClickNoCode = () => {\r\n        history.push(\"/register\");\r\n    }\r\n\r\n\r\n    return(\r\n        <section className=\"register\">\r\n            <img src={Logo} className=\"register_image\" alt=\"Drogueria Del Sol\"/>\r\n            <h1 className=\"register_title\">Incluye el código de cliente provisto por la empresa</h1>\r\n            <form className=\"register_form\" onSubmit={onSubmit}>\r\n                <div className=\"register_form_placeholder register_form_placeholder_password\" ref={passwordRef}>\r\n                    <BiKey/>\r\n                    <label htmlFor=\"password\">Código</label>\r\n                </div>\r\n                <input type=\"text\" className=\"register_form_input\" name=\"password\" id=\"password\"\r\n                       onChange={(e) => onChange(e)}/>\r\n                <div className=\"register_form_placeholder\" ref={nombreFarmaciaRef}>\r\n                    <BiUser/>\r\n                    <label htmlFor=\"nombreFarmacia\">Nombre Farmacia</label>\r\n                </div>\r\n                <input type=\"text\" className=\"register_form_input\" name=\"nombreFarmacia\" id=\"nombreFarmacia\"\r\n                       onChange={(e) => onChange(e)}/>\r\n                <input type=\"submit\" value=\"Verificar Código\" className=\"register_form_submit\"/>\r\n            </form>\r\n            <input type=\"submit\" value=\"Registrar sin código\" className=\"register_form_submit\" onClick={onClickNoCode}/>\r\n            <input type=\"submit\" value=\"Volver a inicio\" className=\"register_form_submit\" onClick={onClick}/>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ClientCode;"]},"metadata":{},"sourceType":"module"}